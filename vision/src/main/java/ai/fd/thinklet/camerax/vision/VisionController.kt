package ai.fd.thinklet.camerax.vision

/**
 * カメラ映像のストリーミングや関連機能の制御を行うためのインターフェース。
 * HTTPサーバーの起動と停止といった高レベルな操作を定義する。
 * 具体的なHTTPエンドポイントの提供やカメラ操作は、このインターフェースの実装クラスや、
 * 関連するリポジトリ（例: `VisionRepository`, `CameraRepository`）が担当する。
 */
interface VisionController {
    /**
     * Vision機能を提供するHTTPサーバーを指定されたポートで起動する。
     * このメソッドを呼び出すと、カメラ映像のストリーミング、静止画の取得、
     * 保存済み画像の管理などの機能がHTTP経由で利用可能になることを想定している。
     *
     * @param port HTTPサーバーがリッスンするポート番号。デフォルトは8080。
     *             指定されたポートが使用中の場合や、その他の理由でサーバーを起動できない場合、
     *             実装はエラーログを出力するか、例外をスローすることが期待される。
     */
    fun start(port: Int = 8080)

    /**
     * 現在実行中のVision機能関連のHTTPサーバーを停止する。
     * このメソッドを呼び出すと、HTTP経由でのカメラ機能へのアクセスはできなくなる。
     * 関連するリソース（カメラ、ネットワークソケットなど）も適切に解放されることが期待される。
     * サーバーが既に停止している場合に呼び出された際の動作は実装に依存するが、
     * 一般的には何も行われないか、情報ログが出力される。
     */
    fun stop()
}
